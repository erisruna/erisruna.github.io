<link rel='stylesheet' href='https://fullcalendar.io/releases/core/4.2.0/main.min.css'>
<link rel='stylesheet' href='https://fullcalendar.io/releases/daygrid/4.2.0/main.min.css'>
<link rel='stylesheet' href='https://fullcalendar.io/releases/timegrid/4.2.0/main.min.css'>
<link rel='stylesheet' href='https://fullcalendar.io/releases/list/4.2.0/main.min.css'>
  
<style>
/*  Hide "all-day" texts from list view... */
.fc-list-item-time {
  display:none;
}


.fc-event {
  background-color: #404060		;
  border: none;
}

.fc-content {
  padding: 3px;
}

.fc-event-dot {
  background-color: #2aae2a;
}

.warning {
  background-color: #ff6500;
}
.fc-list-item.warning {
  background-color: rgba(255, 101, 0, 0.5);
}

.fc-list-item.warning .fc-event-dot {
  background-color: #ff6500;
}

.error {
  background-color: #ff0040;
}

.fc-list-item.error {
  background-color: rgba(255, 0, 64, 0.4);
}

.fc-list-item.error .fc-event-dot {
  background-color: #ff0040;
}



.float-right {
  float: right;
}

a {
  color: white;
}
</style>

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">
  <div id="fullcalendar"></div>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.26.0/moment.min.js'></script>
<script src='https://fullcalendar.io/releases/core/4.2.0/main.min.js'></script>
<script src='https://fullcalendar.io/releases/daygrid/4.2.0/main.min.js'></script>
<script src='https://fullcalendar.io/releases/timegrid/4.2.0/main.min.js'></script>
<script src='https://fullcalendar.io/releases/list/4.2.0/main.min.js'></script>
      <script id="rendered-js" >
"use strict";

function dtToStr(dt, add_days=0) {
  let d = new Date(Date.parse(dt));
  d.setDate(d.getDate() + add_days);
  let st = d.toISOString();
  return st.slice(0,-2);
}

{{ range where  (sort .Site.Pages "LinkTitle") ".Params.tags" "in" "course" }}
    {{ if in .Params.begin "TBA" }}
    {{ else }}
    console.log(dtToStr({{ .Params.begin }}))
     {{end}}
{{ end }}


var events = [
    {
        daysOfWeek: [0, 6],
        rendering: "background",
        color: "#eee",
        overLap: false,
        allDay: true
    },

{{ range where  (sort .Site.Pages "LinkTitle") ".Params.tags" "in" "course" }}
    {{ if in .Params.begin "TBA" }}
    {{ else }}
    { 
      title: 'Course by {{ .Params.author }}',
      start: dtToStr("{{ .Params.begin }} 2025 10:00:00 UTC+0200"),  
      end: dtToStr("{{ .Params.end }} 2025 23:00:00  UTC+0200", 1),
      allDay: true,
      // extendedProps: {
      //   department: 'BioChemistry'
      // },
      description: 'Lecture',
      event: '#FF7518	',
      url: {{ .Permalink }}
     },
     {{end}}
{{ end }}


];



$(function () {
    var calendarEl = document.getElementById("fullcalendar");
    var calendar = new FullCalendar.Calendar(calendarEl, {
        plugins: ["dayGrid", "timeGrid", "list", "interaction"],
        timeZone: "UTC+2",
        themeSystem: "standard",
        eventOrder: "start,title,-duration",
        header: {
            //left: 'prevYear,prev, today next,nextYear',
            left: "prev,next, today",
            center: "title",
            right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
            // right: "dayGridMonth,listYear"
        },
        defaultDate: "2025-04-01",
        firstDay: 1,
        // weekNumbers: true,
        eventLimit: false,
        //events: 'https://fullcalendar.io/demo-events.json',
        events: events,
        //editable: true,
        droppable: true,
        eventResizableFromStart: true,
        eventResizableFromEnd: true,
        eventDurationEditable: true,
        eventRender: function (info) {
            if (info.view.type === "listMonth") {
                return;
            }
            let eventEl = info.el.querySelector(".fc-content");
            let eventID = info.event.extendedProps.issueKey;
            if (!eventID || !eventEl)
                return;
            let link = document.createElement("a");
            link.innerHTML = eventID;
            link.title = "Open in Jira";
            link.href = "https://jira.dummyurl.com/browse/" + eventID;
            link.classList.add("float-right");
            eventEl.appendChild(link);
        }
    });
    calendar.render();
});
//# sourceURL=pen.js
    </script>
<div id="fullcalendar"></div>
